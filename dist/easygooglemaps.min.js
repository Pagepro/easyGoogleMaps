!function(a){"use strict";function b(b,c){this.element=b,this.$element=a(this.element),this.options=c,this.metadata=this.$element.data("options"),this.settings=a.extend({},d,this.options,this.metadata),this.map=null,this.init()}var c="easyGoogleMaps",d={lat:1.276816,lng:103.848346,zoom:13,zoomControl:!0,mapTypeControl:!1,isDraggable:!1,randomId:!0,markerIcon:"",tooltip:!1,scrollwheel:!1,draggable:!0,disableDraggableFrom:!1,styles:!1};b.prototype={init:function(){var b=this;b.prepareHTML(),"object"!=typeof google||"object"!=typeof google.maps?a.getScript(("https:"===document.location.protocol?"https:":"http:")+"//www.google.com/jsapi",function(){google.load("maps",3,{other_params:"sensor=false",callback:function(){b.render()}})}):b.render()},prepareHTML:function(){this.settings.randomId&&this.$element.attr("id",this.getRandomId()),0===this.$element.height()&&this.$element.height("100%")},render:function(){this.renderMap(),this.enableTooltips(),this.addMarker()},renderMap:function(){var b=this,c={zoom:this.settings.zoom,mapTypeId:google.maps.MapTypeId.ROADMAP,navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL},streetViewControl:this.settings.streetViewControl,mapTypeControl:this.settings.mapTypeControl,scrollwheel:this.settings.scrollwheel,zoomControl:this.settings.zoomControl,draggable:this.settings.draggable,styles:this.settings.styles};this.mapLocation=new google.maps.LatLng(this.settings.lat,this.settings.lng),this.map=new google.maps.Map(document.getElementById(this.element.id),a.extend(c,{center:this.mapLocation})),this.settings.draggable&&b.settings.disableDraggableFrom&&a(window).on("resize orientationchange",function(){b.map.set("draggable",!(a(window).width()<b.settings.disableDraggableFrom))})},enableTooltips:function(){if(this.settings.tooltip){var a=this;this.infowindow=new google.maps.InfoWindow({content:a.settings.tooltip})}},addMarker:function(){if(this.marker=new google.maps.Marker({position:this.mapLocation,icon:this.settings.markerIcon,map:this.map}),this.settings.tooltip){var a=this;google.maps.event.addListener(this.marker,"click",function(){a.infowindow.open(a.map,a.marker)})}},getRandomId:function(){var a=String.fromCharCode(65+Math.floor(26*Math.random())),b=Date.now();return a+"-"+b}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery);